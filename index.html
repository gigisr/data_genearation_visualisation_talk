<!doctype html>
<html lang="en">

<head>
    
    <title>Data Generation and Visualisation</title>
    
    <meta charset="utf-8">
    <meta name="description" content="Presentation to IYJ Sep 2017">
    <meta name="author" content="Georgina Roughsedge">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    
    <!-- Basic reveal.js theming -->
    <link rel="stylesheet" href="assets/reveal.js/css/reveal.css">
    
    <!--  Custom theming -->
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Raleway:300,400,500,600,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="assets/reveal.js/css/theme/black.css" id="theme">
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/custom.css">
    <link rel="stylesheet" href="assets/css/custom_2.css">
    
    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="assets/reveal.js/lib/css/zenburn.css">
    
    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
    if( window.location.search.match( /print-pdf/gi ) ) {
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = 'assets/reveal.js/css/print/pdf.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
    </script>

</head>

<body>
    
    <div class="reveal">
    
        <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
    		
		<section class="center" data-background="assets/img/big-data-feature-image.jpg" data-state="sortofdim" data-background-transition="convex"> 
    		
                <div style="font-size : 100pt ; color : #FFFFFF ;">Data Generation and Visualisation</div>
    			
            </section>
            
        <section class="center" data-background="assets/img/city.jpg" data-state="sortofdim" data-transition="convex">
    		
			<h1>Who am I?</h1>
			
		</section>
    		
		<section class="center" data-background="#000033" data-transition="convex">
		    
		    <img src="assets/img/gigi_smart.jpg" style="border: 1px;"></img>
		    
		    <br>
		    
			<ul style="list-style-type : none;">
			    <li class="fragment">Fledgling data scientist</li>
			    <li class="fragment">Work with Michael</li>
			    <li class="fragment">Python, R, HTML, CSS, JavaScript, and VBA</li>
			    <li class="fragment"><a href="https://github.com/gigisr">https://github.com/gigisr</a></li>
			</ul>
			
		</section>
            
        <section class="center" data-background="assets/img/city.jpg" data-state="sortofdim" data-transition="convex">
    		
			<h1>The Task</h1>
			
		</section>
		
		<section class="center" data-background="#000033" data-transition="convex">
		
			<div style="font-size : 70px;">Create<strike> fake </strike>generated data</div>
			
		</section>
		
		<section class="center" data-background="#000033" data-transition="convex">
		
			<div style="font-size : 70px;">Visualise the generated data in an easily accessible form</div>
			
		</section>
		
		<section class="center" data-background="#000033" data-transition="convex">
		
			<div style="font-size : 70px;">Take the dashboards to AIRMIC!</div>
			
		</section>
    		
        <!-- <section data-background="rgb( 221, 227, 235 )" data-background-iframe="http://az-bwlinux-01/dashboard_el/" data-background-interactive> -->
        <!-- The above is for embedding the site as an interactive background -->
      
        <section class="center" data-background="#000033" data-transition="convex">
            
            <a class="external" href="http://az-bwlinux-01/dashboard_el" target="_blank">To the website!</a>
            
        </section>
        
        <section class="center" data-background="#000033" data-transition="convex">
            
            <h1>BOOM!</h1>
            <h1 class="fragment">Example</h1>
            
        </section>
        
        <!-- ask if people think that kind of very quick and high level view is useful -->
        <!-- take a break here to see if anyone has questions -->
    		
		<section class="center" data-background="assets/img/city.jpg" data-state="sortofdim" data-transition="convex">
		
			<h1>Data Generation</h1>
			
		</section>
    		
		<section class="center" data-background="#000033" data-transition="convex">
		
			<div style="font-size : 70px;">What do they want?</div>
			<br>
			<ul>
			    <li class="fragment">Not fake looking data</li>
			    <li class="fragment">Features, some tiered</li>
			    <li class="fragment">Built in stories</li>
			    <li class="fragment">Data for 3 different companies...</li>
			</ul>
			
		</section>
    		
		<section class="center" data-background="#000033" data-transition="convex">
      		
      		<section class="center" data-background="#000033" data-transition="convex">
      		    
      		    <div style="font-size : 70px;">How do we begin?</div>
      		    
      		</section>
      		
      		<section class="center" data-background="#000033" data-transition="convex">
      		    
      		    <table>
      		        
      		        <tr>
      		            <th></th>
      		            <th>2011</th>
      		            <th>2012</th>
      		            <th>2013</th>
      		            <th>2014</th>
      		            <th>2015</th>
      		            <th>2016</th>
      		        </tr>
      		        
      		        <tr>
      		            <td>Claim count</td>
      		            <td>450</td>
      		            <td>626</td>
      		            <td>914</td>
      		            <td>1,279</td>
      		            <td>1,395</td>
      		            <td>1,482</td>
      		        </tr>
      		        
      		        <tr>
      		            <td>Claim cost</td>
      		            <td>1,350,000</td>
      		            <td>3,130,000</td>
      		            <td>5,484,000</td>
      		            <td>6,395,000</td>
      		            <td>5,580,000</td>
      		            <td>4,446,000</td>
      		        </tr>
      		        
      		        <tr>
      		            <td>Average cost</td>
      		            <td>3,000</td>
      		            <td>5,000</td>
      		            <td>6,000</td>
      		            <td>5,000</td>
      		            <td>4,000</td>
      		            <td>3,000</td>
      		        </tr>
      		        
      		    </table>
      		    
      		</section>
      		
      		<section class="center" data-background="#000033" data-transition="convex">
      		    
      		    <div class="fragment" style="align: right;">Key change will be to defence rate in 2015 and 2016. We want the defence rate to start increasing at 2014 and be at 60% by 2016.</div>
      		    <br>
      		    
      		    <div class="fragment" style="align: right;">
      		        <ul>
      		            <li>On sub groups of outcome for claim not pursued:</li>
      		        
          		        <ul>
          		            <li>Safe place of work proven (highest all through)</li>
          		            <li>Robust investigation (second highest all through)</li>
          		            <li>CCTV third highest (and very high in 2015 and 2016)</li>
          		            <li>Claims handling should be smaller and linked to trial wins.</li>
          		        </ul>
          		    </ul>
      		    </div>
      		    
      		</section>
      	
      	</section>
    		
		<section class="center" data-background="#000033" data-transition="convex">
		    
		    <div style="font-size : 70px;">General outline</div>
			<br>
			<ul style="list-style-type : none; text-align : center;">
			    <li class="fragment">Locations table</li> <!-- This could be Rob's policy table -->
			    <li class="fragment">Base incidents table</li>
			    <li class="fragment">Add features to incidents table</li>
			    <li class="fragment">Flag claims</li>
			    <li class="fragment">Base claims table</li>
			    <li class="fragment">Add features to claims table</li>
			    <li class="fragment">[optional] Sample out the incidents</li>
			    <li class="fragment">Write tables out</li>
			</ul>
		    
		</section>
    		
		<section class="center" data-background="#000033" data-transition="convex">
		        
	        <div style="font-size : 70px;">That is where it is currently at</div>
	            
	    </section>
	    
	    <section class="center" data-background="#000033" data-transition="convex">
		        
	        <div style="font-size : 70px;">Issues</div>
	            
	    </section>
	    
	    <!-- There are some points it would be good to mention such as some features have distributions behind them that are not uniform but that most of the distributions utilised are uniform, this means that when you say 'I want this percentage to be this' overall you are likely to get that. But some, like the claim incurred amounts will have a few extream values but most will sit in a comfortable lower range. This is currently a chi-squared distribution with 4 degrees of freedom, because I liked the look of it at the time. -->
    		
		<section class="center" data-background="#000033" data-transition="convex">
		    
		    <section class="center" data-background="#000033" data-transition="convex">
		        
		        <div style="font-size : 70px;">For the future</div>
		        
		    </section>
		    
		    <section class="center" data-background="#000033" data-transition="convex">
		        
		        <pre><code data-trim data-noescape>
		            
		            year_month_seperated &lt;- year_month_function( incidents_tbl$year_month )
incidents_tbl &lt;- incidents_tbl %>% 
mutate(
    year  = unlist( year_month_seperated[1] )
   ,month = unlist( year_month_seperated[2] )
)
incidents_tbl &lt;- add_incident_type_claim_flag_function( incidents_tbl )
		            
		        </code></pre>
		        
		    </section>
		    
		    <section class="center" data-background="#000033" data-transition="convex">
		        
		        <pre><code data-trim data-noescape>
		            
		            claim_data &lt;- base_claim_data %>% 
mutate(
    new_feature_1 = level_1_feature_function( table_of_proportions_1, n() ),
    new_feature_2 = level_2_feature_function( 
        table_of_proportions_2, 
        column_name_to_filter, 
        new_feature_1, 
        n() 
    ),
    new_feature_3 = level_1_feature_function( table_of_proportions_3, n() )
)
		            
		        </code></pre>
		        
		    </section>
		    
		    <section class="center" data-background="#000033" data-transition="convex">
		        
		        <div style="font-size : 70px;">Tidier</div>
		        <div style="font-size : 70px;">Easier to read</div>
		        <div style="font-size : 70px;">Easier to use</div>
		        
		    </section>
			
		</section>
	    
	    <section class="center" data-background="#000033" data-transition="convex">
		    
		    <section class="center" data-background="#000033" data-transition="convex">
		        
		        <div style="font-size : 70px;">Distributions and functions</div>
		        
		    </section>
		    
		    <section class="center" data-background="#000033" data-transition="convex" style="padding: 0px;">
		        
		        <img src="assets/img/runif.png" style="border: 1px;"></img>
		        <img src="assets/img/rchisq.png" style="border: 1px;"></img>
		        
		    </section>
		    
		    <section class="center" data-background="#000033" data-transition="convex">
		        
		        <pre><code data-trim data-noescape>
		            
		            out_value       ,odds,cumulative_odds
Aviation        ,0.6 ,0.6
Motor           ,0.2 ,0.8
Public Liability,0.2 ,1
		            
		        </code></pre>
		        
		    </section>
		    
		    <section class="center" data-background="#000033" data-transition="convex">
		        
		        <pre><code data-trim data-noescape>
		            
		            # A tibble: 3 x 3
        values count   pct
        &lt;fctr&gt; &lt;int&gt; &lt;dbl&gt;
1         Aviation   584  58.4
2            Motor   215  21.5
3 Public Liability   201  20.1
		            
		        </code></pre>
		        
		    </section>
		    
		    <section class="center" data-background="#000033" data-transition="convex">
		        
		        <pre><code data-trim data-noescape>
		            
		            out_value       ,filter_1        ,odds,cumulative_odds
General         ,Aviation        ,0.3 ,0.3
Airports        ,Aviation        ,0.7 ,1
Single          ,Motor           ,0.8 ,0.8
Fleet           ,Motor           ,0.2 ,1
Public Liability,Public Liability,1   ,1
		            
		        </code></pre>
		        
		    </section>
		    
		    <section class="center" data-background="#000033" data-transition="convex">
		        
		        <pre><code data-trim data-noescape>
		            
		            # A tibble: 5 x 4
         value    value_level_2 count   pct
        &lt;fctr&gt;            &lt;chr&gt; &lt;int&gt; &lt;dbl&gt;
1         Aviation         Airports  1210  67.9
2         Aviation          General   571  32.1
3            Motor            Fleet   111  19.1
4            Motor           Single   469  80.9
5 Public Liability Public Liability   639 100.0
		            
		        </code></pre>
		        
		    </section>
			
		</section>
		
		<section class="center" data-background="assets/img/city.jpg" data-state="sortofdim" data-transition="convex">
		    
			<h1>Visualisation</h1>
			
		</section>
		
		<section class="center" data-background="#000033" data-transition="convex">
		
			<div style="font-size : 70px;">Basic website</div>
			<br>
			<ul style="list-style-type : square;" class="fragment">
			    <li>HTML</li>
			    <li>CSS</li>
			    <li>JavaScript</li>
			    <ul style="list-style-type : circle;">
			        <li>d3</li>
			        <li>crossfilter</li>
			    </ul>
			</ul>
			
		</section>
		
		<section class="center" data-background="#000033" data-transition="convex">
		        
	        <div style="font-size : 70px;">Dashboard Generation</div>
	        
	    </section>
		
		<section class="center" data-background="assets/img/raisedhand2.jpg" data-transition="convex" data-background-size="1920px">
		    
		</section>
    
    </div>

</div>

<script src="assets/reveal.js/lib/js/head.min.js"></script>
<script src="assets/reveal.js/js/reveal.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/railscasts.min.css"></script>
    
    <script>
    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: false,
        slideNumber: false,
        hideAddressBar: true,
        previewLinks: true,
        showNotes: false,
        transition: 'convex', // none/fade/slide/convex/concave/zoom
        backgroundTransition: 'default',
    
        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1160,
        height: 720,
    
        // Factor of the display size that should remain empty around the content
        margin: 0.1,
    
        // Bounds for smallest/largest possible scale to apply to content
        minScale: 0.2,
        maxScale: 1.5,
    
        // Optional reveal.js plugins
        dependencies: [
            {
                src: 'assets/reveal.js/lib/js/classList.js',
                condition: function () {
                    return !document.body.classList;
                }
            },
            {
                src: 'assets/reveal.js/plugin/markdown/marked.js',
                condition: function () {
                    return !!document.querySelector('[data-markdown]');
                }
            },
            {
                src: 'assets/reveal.js/plugin/markdown/markdown.js',
                condition: function () {
                    return !!document.querySelector('[data-markdown]');
                }
            },
            {
                src: 'assets/reveal.js/plugin/highlight/highlight.js',
                async: true,
                callback: function () {
                    hljs.initHighlightingOnLoad();
                }
            },
            {
                src: 'assets/reveal.js/plugin/zoom-js/zoom.js',
                async: true
            },
            {
                src: 'assets/reveal.js/plugin/notes/notes.js',
                async: true
            }
    	]
    });
    </script>
    
</body>

</html>
